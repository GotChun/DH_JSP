package utils;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.List;

public class MemberDbUtils {

	private static String url = "jdbc:oracle:thin:@//localhost:1521/xe";
	private static String id = "system";
	private static String pw = "1234";

	private static Connection conn;
	private static PreparedStatement pstmt; // 이런거 다 기본적으로 외우고 있어야함 ;; 인터넷이 안됨 시험장은
	private static ResultSet rs;

	public static void conn() throws Exception{
		Class.forName("oracle.jdbc.OracleDriver");
		Connection conn = DriverManager.getConnection
		 (url,id,pw);
	}

	public static void insert() throws Exception{

	}

	public static void update() throws Exception{

	}

	public static void delete() throws Exception{

	}

//	public static List<Object> select() throws Exception{
//		return null;
//	}
//
//	public static List<Object> select(Object dto) throws Exception{
//		return null;
//	}
	
	public static int maxCustno() throws Exception{
		pstmt=conn.prepareStatement("select max(custno) from member_tbl_02");
		rs = pstmt.executeQuery();
		if(rs!=null) {
			if(rs.next()) {
				rs.getInt(1);
			}
		}
	}

	public void freeConnection(PreparedStatement pstmt) throws Exception {
		pstmt.close();
	}

	public void freeConnection(PreparedStatement pstmt, ResultSet rs) throws Exception {
		rs.close();
		pstmt.close();
	}

	public void freeConnection(PreparedStatement pstmt, ResultSet rs, Connection conn) throws Exception {
		rs.close();
		pstmt.close();
		conn.close();
	}

}
